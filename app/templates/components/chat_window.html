<!-- Expanded chat window -->
<div
  id="chat-window"
  class="bg-white rounded-lg shadow-2xl w-96 h-[600px] flex flex-col"
>
  <!-- Header -->
  <div
    class="bg-orange-600 text-white p-4 rounded-t-lg flex justify-between items-center"
  >
    <div class="flex items-center gap-2">
      ğŸ‘¨â€ğŸ³
      <span class="font-semibold">{{ _('Cooking Assistant') }}</span>
    </div>
    <button
      onclick="clearChat()"
      class="text-white hover:text-gray-200 text-sm mr-2"
      title="{{ _('Clear conversation') }}"
    >
      ğŸ”„
    </button>
    <button
      onclick="minimizeChat()"
      class="text-white hover:text-gray-200 text-xl leading-none"
    >
      âœ•
    </button>
  </div>

  <!-- Messages area -->
  <div
    id="chat-messages"
    class="flex-1 overflow-y-auto p-4 space-y-3"
    hx-trigger="load"
    hx-get="{{ url_for('chat.get_messages') }}"
    hx-swap="innerHTML"
  >
    <!-- Messages loaded here -->
  </div>

  <!-- Typing indicator - Tailwind's animate-bounce works out of the box -->
  <div id="typing-indicator" class="hidden px-4 pb-2">
    <div class="flex justify-start">
      <div class="bg-gray-100 rounded-lg px-4 py-2 text-gray-600 text-sm">
        <span class="inline-flex gap-1">
          <span class="animate-bounce" style="animation-delay: 0ms">â—</span>
          <span class="animate-bounce" style="animation-delay: 150ms">â—</span>
          <span class="animate-bounce" style="animation-delay: 300ms">â—</span>
        </span>
      </div>
    </div>
  </div>

  <!-- Input area -->
  <div class="border-t p-4">
    <form id="chat-form" onsubmit="sendMessage(event)">
      <div class="flex gap-2">
        <input
          type="text"
          id="chat-input"
          name="message"
          placeholder="{{ _('Ask about recipes...') }}"
          class="flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"
          required
          autocomplete="off"
        />
        <button
          type="submit"
          id="chat-submit"
          class="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          {{ _('Send') }}
        </button>
      </div>
    </form>
  </div>
</div>

<script>
  // Scripts defined in base.html
</script>
