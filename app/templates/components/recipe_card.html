<div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
    <!-- Recipe Image -->
    <a href="{{ url_for('main.recipe_detail', recipe_id=recipe.id) }}">
        {% if recipe.image_filename %}
        <img src="{{ url_for('static', filename='images/recipes/thumbnails/thumb_' + recipe.image_filename) }}"
            alt="{{ recipe.title }}" class="w-full h-48 object-cover" loading="lazy"
            onerror="this.onerror=null; this.src='{{ url_for('static', filename='images/recipes/' + recipe.image_filename) }}';">
        {% else %}
        <div class="w-full h-48 bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center">
            <span class="text-6xl">ğŸ½ï¸</span>
        </div>
        {% endif %}
    </a>

    <!-- Recipe Content -->
    <div class="p-5">
        <a href="{{ url_for('main.recipe_detail', recipe_id=recipe.id) }}" class="block mb-2">
            <h2 class="text-xl font-semibold text-gray-900 hover:text-orange-600">
                {{ recipe.title }}
            </h2>
        </a>

        <p class="text-gray-600 text-sm mb-3 line-clamp-2">
            {{ recipe.description }}
        </p>

        <!-- Tags -->
        {% if recipe.tags_list %}
        <div class="flex flex-wrap gap-2 mb-3">
            {% for tag in recipe.tags_list[:3] %}
            <span class="bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded">
                {{ tag }}
            </span>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Meta Info -->
        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
            <span>ğŸ½ï¸ {{ recipe.servings }} {{ _('servings') }}</span>
            <span>ğŸ“ {{ recipe.instructions_list|length }} {{ _('steps') }}</span>
        </div>

        <!-- Actions -->
        <div class="flex space-x-2">
            <a href="{{ url_for('main.recipe_detail', recipe_id=recipe.id) }}"
                class="flex-1 bg-orange-600 text-white text-center py-2 rounded hover:bg-orange-700 text-sm font-medium">
                {{ _('View Recipe') }}
            </a>
            <a href="{{ url_for('main.recipe_edit', recipe_id=recipe.id) }}"
                class="px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">
                âœï¸
            </a>
        </div>
    </div>
</div>